function TripleViewer(a){function b(a){if($("#nx-isoformChoice").length>0){var b={isoforms:function(){var b={visible:[],more:[]};return a.sort(function(a,b){return parseInt(a.uniqueName.split("-")[1])-parseInt(b.uniqueName.split("-")[1])}).forEach(function(a,c){c<=3?b.visible.push(a):b.more.push(a)}),b}()};A=b.isoforms.visible[0].uniqueName;var c=HBtemplates["templates/isoformChoice.tmpl"],d=c(b);$("#nx-isoformChoice").append(d),F.isoform(),$(document).ready(function(){$(".isoformNames").tooltip({trigger:"hover"})}),$("#nx-isoformChoice li:first-child").addClass("active")}}function c(){$(function(){$("#isoformMap").click(function(){$("#isoformDisplayed #isoContainer").toggle("slow")}),$("#isoformDisplayed #isoContainer").hide()})}function d(a,b,c){function d(a){var b=0;for(r in a)for(var c in a[r].positions)a[r].positions[c].second>b&&(b=a[r].positions[c].second);return b}function e(a){var b=1e8;for(r in a)for(var c in a[r].positions)a[r].positions[c].first<b&&(b=a[r].positions[c].first);return b}function f(a){var b=q.append("g").attr("class","rectangle").attr("transform","translate(0,"+j+")");b.append("path").attr("d",o([{x:i,y:0},{x:h,y:0}])).attr("class",function(){return"line"}).style("z-index","0").style("stroke","#C2DEC8").style("stroke-width","1px");var d=b.selectAll("."+a.isoformAc+"Group").data(a.positions).enter().append("g").attr("class",a.isoformAc+"Group isoGroup").attr("transform",function(a){return"translate("+n(a.first)+",0)"});d.append("rect").attr("class","element "+a.isoformAc+"Rect").attr("width",function(a){return n(a.second)-n(a.first)}).attr("height",12).style("fill",function(){return a.isoformAc===c?"#74EB78":"#C2DEC8"}).style("z-index","13").style("cursor","pointer").on("click",function(){q.selectAll("rect").style("fill","#C2DEC8"),d3.selectAll("."+a.isoformAc+"Rect").style("fill","#74EB78"),F.reload(a.isoformAc);var b=$("#nx-isoformChoice a[href=#"+a.isoformAc+"]").tab("show");b.parent().parent().is("#moreIsoforms")&&$("#extendIsoformChoice").text(a.isoformAc)}),d.append("text").attr("class","element "+a.isoformAc+"Text").attr("y",6).attr("dy","0.35em").style("font-size","10px").text(function(b){return a.isoformMainName}).style("fill","black").style("z-index","15").style("visibility",function(b){return a.isoformMainName&&n(b.second)-n(b.first)>8*a.isoformMainName.length?"visible":"hidden"}),j+=20}function g(){l=$(b).width()-k.left-k.right-17,d3.select(b+" svg").attr("width",l+k.left+k.right),d3.select(b+" clippath>rect").attr("width",l),n.range([5,l-5]),q.selectAll(".line").attr("d",o([{x:i,y:0},{x:h,y:0}])),q.selectAll(".isoGroup").attr("transform",function(a){return"translate("+n(a.first)+",0)"}),q.selectAll(".isoGroup rect").attr("width",function(a){return n(a.second)-n(a.first)}),q.selectAll(".isoGroup text").style("visibility",function(a){var b=d3.select(this).text();return b&&b.length&&n(a.second)-n(a.first)>8*b.length?"visible":"hidden"})}$(b+" #isoContainer").html(""),!$("#isoContainer").length>0&&$(b).append('<div id="isoContainer"></div>');var h=d(a),i=e(a),j=20,k={top:10,right:50,bottom:0,left:50},l=D-k.left-k.right-17,m=200-k.top-k.bottom,n=d3.scale.linear().domain([i,h]).range([0,l]),o=d3.svg.line().interpolate("linear").x(function(a){return n(a.x)}).y(function(a){return a.y+6}),p=d3.select(b+" #isoContainer").append("svg").attr("width",l+k.left+k.right).attr("height",m+k.top+k.bottom).style("z-index","2"),q=p.append("g").attr("transform","translate("+k.left+","+k.top+")");for(var r in a)f(a[r],r);$(window).resize(function(){g()}),p.attr("height",j+10+"px")}function e(a,b){a.forEach(function(a){a.uniqueName===b&&(w=a.sequence,u=new FeatureViewer(w,"#chart",{showAxis:!0,showSequence:!0,brushActive:!0,toolbar:!0,bubbleHelp:!0,unit:"aa",zoomMax:10,toolbarTemplate:2,positionWithoutLetter:!0,tooltipColor:"black"}),v=new Sequence(w,b),v.render("#seqViewer",{showLineNumbers:!0,wrapAminoAcids:!0,charsPerLine:50,search:!0,toolbar:!0,header:{display:!1,searchInTitle:!1,unit:"aa",showCpl:!1,badgeWithUnit:!0}}),$(".fasta-link").attr("href","https://old.nextprot.org/db/entry/"+b.split("-")[0]+"/fasta?isoform="+b.slice(3)),$("#seqViewer").prepend("<div class='seqHeader'></div>"),$(".seqHeader").append("<div class=''><div class=''><strong>Isoform :</strong> "+a.mainEntityName.name+"</div></div>"),$(".seqHeader").append("<div class=''><div class=''> "+a.sequence.length+" aa</div></div>"),$(".seqHeader").append("<div class=''><div class=''><strong>Mass :</strong> "+a.massAsString+" Da</div></div>"),$(".seqHeader").append("<div class=''><div class=''><strong>pI :</strong> "+a.isoelectricPointAsString+"</div></div>"),$("#seqViewer .inputSearchSeq").attr("placeholder","Search in sequence..."),$("#seqViewer .inputSearchSeq").attr("data-toggle","tooltip"),$("#seqViewer .inputSearchSeq").attr("data-placement","top"),$("#seqViewer .inputSearchSeq").attr("title","Regex supported"),$('#seqViewer [data-toggle="tooltip"]').tooltip())})}function f(a){for(var b=0;b<B.length;b++)if(0!==Object.keys(B[b]).length&&B[b].hasOwnProperty(a)&&E[B[b][a].filter.split(" ").join("_")]===!0){var c=jQuery.extend({},B[b][a]);u.addFeature(c)}}function g(){$("#chart").append('<div class="filter-block" class="row" style="margin:0px 20px;float:left;"></div>'),z={filters:{}};for(var a=0;a<B.length;a++)if(0!==Object.keys(B[a]).length){var b=B[a][Object.keys(B[a])[0]].filter;if("none"!==b&&!z.filters[b.split(" ").join("_")]){var c=b.split(" ").join("_");z.filters[c]=b,E[c]=!0}}var d=HBtemplates["templates/filter.tmpl"],e=d(z);$(".filter-block").html(e)}function h(a){var b=[];return a.forEach(function(a){"uniprotkb"==a.assignedBy.toLowerCase()&&(a.assignedBy="UniProtKB"),"nextprot"==a.assignedBy.toLowerCase()&&(a.assignedBy="neXtProt"),b.indexOf(a.assignedBy)<0&&b.push(a.assignedBy)}),b.sort(NXUtils.sortByAlphabet)}function i(a){function b(){$(".evidenceNumber").click(function(){$(this).parent().parent().next().toggle()})}if($("#featuresTable").length>0){var c=0,d={};C.forEach(function(b){if(b.hasOwnProperty(a)&&b[a]){var c=b[a][0].group;Object.keys(d).indexOf(c)<0?d[c]={group:c,features:[b[a]]}:d[c].features.push(b[a])}});for(feat in C)if(C[feat].hasOwnProperty(a)){c+=C[feat][a].length;for(var e=0;e<C[feat][a].length;e++)C[feat][a][e].source&&(C[feat][a][e].evidenceSources=h(C[feat][a][e].source))}Handlebars.registerHelper("position",function(a,b){return 1===a?this.start:"Disulfide bond"===this.category?this.start+'<span style="line-height: 0.8; vertical-align:top">&#x256d;&#x256e;</span>'+this.end:this.start+" - "+this.end}),Handlebars.registerHelper("className",function(a,b){return a.replace(" ","")+" "+this.group.split(" ").join("_")}),Handlebars.registerHelper("math",function(a,b,c){return a=parseFloat(a),b=parseFloat(b),a+b}),Handlebars.registerHelper("linkTo",function(a,b,c){return"<a class='extLink' href=\""+b+'">'+a+"</a>"}),Handlebars.registerHelper("concat",function(a,b){return a+b}),Handlebars.registerHelper("replace",function(a,b,c){return a.replace(b,c)});var f={groupedFeatures:d,featuresLength:c};Handlebars.registerPartial("quality-label",HBtemplates["templates/quality-label.tmpl"]),Handlebars.registerPartial("evidence",HBtemplates["templates/evidence.tmpl"]),Handlebars.registerPartial("publication",HBtemplates["templates/publication.tmpl"]);var g=HBtemplates["templates/featureTable2.tmpl"],i=g(f);$("#featuresTable").html(i),b()}}function j(a){var b=[],c=[];for(var d in a)a[d].positions.forEach(function(a){b.push(a.first,a.second)});b=b.filter(function(a,b,c){return b==c.indexOf(a)}),b.sort(function(a,b){return a-b});for(var e=0;e<b.length-1;e++){var f=!1;for(var g in x){for(var h in a[g].positions){if(a[g].positions[h].first>b[e+1])break;if(a[g].positions[h].first<=b[e]&&a[g].positions[h].second>=b[e+1]){f=!0;break}}if(f===!0)break}f===!1&&c.push({x:b[e],length:b[e+1]-b[e]})}for(var e=c.length-1;e>=0;e--)for(var g in a)for(var h=a[g].positions.length-1;h>=0;h--){if(a[g].positions[h].first<c[e].x){h!=a[g].positions.length-1&&0===e&&a[g].positions[h+1].first===a[g].positions[h].second&&(a[g].positions[h].second=a[g].positions[h+1].second,a[g].positions.splice(h+1,1));break}a[g].positions[h].first-=c[e].length,a[g].positions[h].second-=c[e].length,h!=a[g].positions.length-1&&a[g].positions[h+1].first===a[g].positions[h].second&&(a[g].positions[h].second=a[g].positions[h+1].second,a[g].positions.splice(h+1,1))}return a}function k(a,b,c){var d=$(a).position().top-c,e=$(b).scrollTop(),f=d+e;console.log(f),console.log(e),$(b).animate({scrollTop:f},1e3)}function l(){u.onFeatureSelected(function(a){r(a.detail)})}function m(a){u.onFeatureSelected(function(b){a(b.detail)}),$(".featPosition").click(function(){var b=$(this).parent().parent().attr("id"),c=b.split("_").slice(1).map(Number),d={start:c[0],end:c[1]};a(d)})}function n(a){v.onMouseSelection(function(b){a(b.detail)})}function o(){return A}function p(a){$(".isoformNames").click(function(){A=$(this).text(),a(A)})}function q(){$(".featPosition").click(function(){$(".tableHighlight").removeClass("tableHighlight"),$(this).parent().parent().addClass("tableHighlight");var a=$(this).parent().parent().attr("id"),b=a.split("_").slice(1).map(Number);1===b.length&&b.push(b[0]);var c="#f"+a;b[0]-=1,v.selection(b[0],b[1],"#C50063"),u.addRectSelection(c),k(".stringSelected",".scroller",200)})}function r(a){v.selection(a.start-1,a.end,"#C50063");var b="#"+a.id;$(".tableHighlight").removeClass("tableHighlight"),$(b).addClass("tableHighlight"),k(b,"#featTableScroller",70),k(".stringSelected",".scroller",200)}function s(){$("#filtering label").mouseover(function(){var a=$(this).children("input").attr("id");u.showFilteredFeature(a,"#795B42",document.location.href)}),$("#filtering label").mouseout(function(){var a=$(this).children("input").attr("id");u.hideFilteredFeature(a)}),$("#allFilters").click(function(){if($("#filtering").hasClass("all-filters")){$("#filtering input[type=checkbox]").prop("checked",!1),console.log("has class all-filters");for(var a in E)E[a]=!1;$("#filtering").removeClass("all-filters")}else{$("#filtering input[type=checkbox]").prop("checked",!0);for(var a in E)E[a]=!0;$("#filtering").addClass("all-filters")}t(),F.reloadSVG(A)}),$("#filtering input:checkbox").on("change",function(){console.log("count the number of checkbox not checked : "),console.log($("#filtering input:checkbox:not(:checked)").length),$("#filtering input:checkbox:not(:checked)").length?$("#filtering input:checkbox:checked").length?$("#filtering").removeClass("all-filters"):(console.log("all checkbox are unchecked"),$("#filtering").removeClass("all-filters")):(console.log("all checkbox are checked"),$("#filtering").addClass("all-filters")),t(),F.reloadSVG(A)})}function t(){for(var a in z.filters)$("#"+a).prop("checked")?($("."+a+".general-info").show(),E[a]=!0):($("."+a).hide(),E[a]=!1);var b=$("#featuresTable .general-info:visible").length;$("#featuresTableTitle .badge").text(b)}var u,v,w,x,y,z,A=a+"-1",B=[],C=[],D=0,E={none:!0},F={isoform:function(){$(".isoformNames").click(function(){A=$(this).text(),F.reload(A);var a=d3.select("#isoContainer");a.selectAll("rect").style("fill","#C2DEC8"),a.selectAll("."+A+"Rect").style("fill","#74EB78")}),$("#moreIsoforms a").click(function(){var a=$(this).text();$("#extendIsoformChoice").text(a)})},init:function(a,h){x=a[0],b(a[0]),D=$("#visuContainer").width();for(var k=1;k<a.length-1;k++){var m=NXUtils.convertMappingsToIsoformMap(a[k],h[k].name,h[k].filter,"");C.push(m);var n=NXViewerUtils.convertNXAnnotations(m,h[k]);B.push(n)}y=j(a[a.length-1]),d(y,"#isoformDisplayed",A),c(),g(),e(x,A),f(A),i(A),q(),l(),s()},reload:function(a){$("#chart svg").remove(),u.clearInstance(),e(x,a),f(a),i(a),t(),q(),l(),$(".zoomUnit").length&&$(".zoomUnit").text("1"),d3.selectAll("div.selectedRect").remove()},reloadSVG:function(a){$("#chart svg").remove(),u.clearInstance(),e(x,a),f(a),$(".zoomUnit").length&&$(".zoomUnit").text("1"),d3.selectAll("div.selectedRect").remove(),l()}};return{init:F.init,onSelection:m,onSequenceSelected:n,onIsoChange:p,getCurrentIsoform:o}}!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){}var e=b.exports={};e.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.binding=function(a){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],2:[function(a,b,c){"use strict";function d(a){function b(a){return null===i?void k.push(a):void g(function(){var b=i?a.onFulfilled:a.onRejected;if(null===b)return void(i?a.resolve:a.reject)(j);var c;try{c=b(j)}catch(b){return void a.reject(b)}a.resolve(c)})}function c(a){try{if(a===l)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return void f(b.bind(a),c,d)}i=!0,j=a,h()}catch(a){d(a)}}function d(a){i=!1,j=a,h()}function h(){for(var a=0,c=k.length;a<c;a++)b(k[a]);k=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");var i=null,j=null,k=[],l=this;this.then=function(a,c){return new l.constructor(function(d,f){b(new e(a,c,d,f))})},f(a,c,d)}function e(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function f(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(a){if(d)return;d=!0,c(a)}}var g=a("asap");b.exports=d},{asap:4}],3:[function(a,b,c){"use strict";function d(a){this.then=function(b){return"function"!=typeof b?this:new e(function(c,d){f(function(){try{c(b(a))}catch(a){d(a)}})})}}var e=a("./core.js"),f=a("asap");b.exports=e,d.prototype=e.prototype;var g=new d(!0),h=new d(!1),i=new d(null),j=new d(void 0),k=new d(0),l=new d("");e.resolve=function(a){if(a instanceof e)return a;if(null===a)return i;if(void 0===a)return j;if(a===!0)return g;if(a===!1)return h;if(0===a)return k;if(""===a)return l;if("object"==typeof a||"function"==typeof a)try{var b=a.then;if("function"==typeof b)return new e(b.bind(a))}catch(a){return new e(function(b,c){c(a)})}return new d(a)},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(a){c(a)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){a.forEach(function(a){e.resolve(a).then(b,c)})})},e.prototype.catch=function(a){return this.then(null,a)}},{"./core.js":2,asap:4}],4:[function(a,b,c){(function(a){function c(){for(;e.next;){e=e.next;var a=e.task;e.task=void 0;var b=e.domain;b&&(e.domain=void 0,b.enter());try{a()}catch(a){if(i)throw b&&b.exit(),setTimeout(c,0),b&&b.enter(),a;setTimeout(function(){throw a},0)}b&&b.exit()}g=!1}function d(b){f=f.next={task:b,domain:i&&a.domain,next:null},g||(g=!0,h())}var e={task:void 0,next:null},f=e,g=!1,h=void 0,i=!1;if("undefined"!=typeof a&&a.nextTick)i=!0,h=function(){a.nextTick(c)};else if("function"==typeof setImmediate)h="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel;j.port1.onmessage=c,h=function(){j.port2.postMessage(0)}}else h=function(){setTimeout(c,0)};b.exports=d}).call(this,a("_process"))},{_process:1}],5:[function(a,b,c){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(a,b){var c=arguments.length?this.then.apply(this,arguments):this;c.then(null,function(a){setTimeout(function(){throw a},0)})})},{}],6:[function(a,b,c){a("asap");"undefined"==typeof Promise&&(Promise=a("./lib/core.js"),a("./lib/es6-extensions.js")),a("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6]),this.HBtemplates=this.HBtemplates||{},this.HBtemplates["templates/crossRef.tmpl"]=Handlebars.template({1:function(a,b,c,d,e){var f,g,h=null!=b?b:{};return"            <dl>\n                <dt>"+a.escapeExpression((g=null!=(g=c.key||e&&e.key)?g:c.helperMissing,"function"==typeof g?g.call(h,{name:"key",hash:{},data:e}):g))+"</dt>\n"+(null!=(f=c.each.call(h,b,{name:"each",hash:{},fn:a.program(2,e,0),inverse:a.noop,data:e}))?f:"")+"            </dl>\n"},2:function(a,b,c,d,e){var f,g,h,i=null!=b?b:{},j=c.helperMissing,k="function",l="                <dd>"+a.escapeExpression((g=null!=(g=c.dBName||(null!=b?b.dBName:b))?g:j,typeof g===k?g.call(i,{name:"dBName",hash:{},data:e}):g))+" : ";return g=null!=(g=c.crossLink||(null!=b?b.crossLink:b))?g:j,h={name:"crossLink",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e},f=typeof g===k?g.call(i,h):g,c.crossLink||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(l+=f),l+(null!=(f=c.if.call(i,null!=b?b.additionalInfos:b,{name:"if",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+"</dd>\n\n"},3:function(a,b,c,d,e){var f,g,h=null!=b?b:{};return(null!=(f=c.if.call(h,null!=b?b.preLink:b,{name:"if",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+(null!=(g=null!=(g=c.link_to||(null!=b?b.link_to:b))?g:c.helperMissing,f="function"==typeof g?g.call(h,{name:"link_to",hash:{},data:e}):g)?f:"")},4:function(a,b,c,d,e){var f;return" "+a.escapeExpression((f=null!=(f=c.preLink||(null!=b?b.preLink:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"preLink",hash:{},data:e}):f))+" : "},6:function(a,b,c,d,e){var f,g,h;return g=null!=(g=c.additionalInfos||(null!=b?b.additionalInfos:b))?g:c.helperMissing,h={name:"additionalInfos",hash:{},fn:a.program(7,e,0),inverse:a.noop,data:e},f="function"==typeof g?g.call(null!=b?b:{},h):g,c.additionalInfos||(f=c.blockHelperMissing.call(b,f,h)),null!=f?f:""},7:function(a,b,c,d,e){var f;return" [ "+a.escapeExpression((f=null!=(f=c.value||(null!=b?b.value:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"value",hash:{},data:e}):f))+" ]"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div id="crossRefTitle">\n    <h2>Further external links</h2>\n</div>\n\n<div id="crossRefLinks">\n    <div class="row">\n        <div class="col-md-7 col-xs-6">\n'+(null!=(f=c.each.call(null!=b?b:{},null!=b?b.type:b,{name:"each",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"        </div>\n    </div>\n</div>"},useData:!0}),this.HBtemplates["templates/featureTable2.tmpl"]=Handlebars.template({1:function(a,b,c,d,e,f,g){var h,i,j=null!=b?b:{},k=c.helperMissing;return'        <tbody>\n        <th colspan="6" class="'+(null!=(h=(c.className||b&&b.className||k).call(j,null!=b?b.group:b,{name:"className",hash:{},data:e}))?h:"")+' general-info table-section-header"><div class="grey-x">'+a.escapeExpression((i=null!=(i=c.group||(null!=b?b.group:b))?i:k,"function"==typeof i?i.call(j,{name:"group",hash:{},data:e}):i))+"</div></th>\n"+(null!=(h=c.each.call(j,null!=b?b.features:b,{name:"each",hash:{},fn:a.program(2,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"\n    </tbody>"},2:function(a,b,c,d,e,f,g){var h;return null!=(h=c.each.call(null!=b?b:{},b,{name:"each",hash:{},fn:a.program(3,e,0,f,g),inverse:a.noop,data:e}))?h:""},3:function(a,b,c,d,e,f,g){var h,i,j=null!=b?b:{},k=c.helperMissing,l="function",m=a.escapeExpression;return"        <tr id="+m((i=null!=(i=c.id||(null!=b?b.id:b))?i:k,typeof i===l?i.call(j,{name:"id",hash:{},data:e}):i))+' class="'+(null!=(h=(c.className||b&&b.className||k).call(j,null!=b?b.category:b,{name:"className",hash:{},data:e}))?h:"")+' general-info" >\n            <td>'+m((i=null!=(i=c.category||(null!=b?b.category:b))?i:k,typeof i===l?i.call(j,{name:"category",hash:{},data:e}):i))+'</td>\n            <td class="text-align-right"><a class="featPosition" href="javascript:;">'+(null!=(h=(c.position||b&&b.position||k).call(j,null!=b?b.length:b,{name:"position",hash:{},data:e}))?h:"")+'</a></td>\n            <td class="text-align-right">'+m((i=null!=(i=c.length||(null!=b?b.length:b))?i:k,typeof i===l?i.call(j,{name:"length",hash:{},data:e}):i))+"</td>\n            <td>"+(null!=(i=null!=(i=c.link||(null!=b?b.link:b))?i:k,h=typeof i===l?i.call(j,{name:"link",hash:{},data:e}):i)?h:"")+(null!=(h=c.if.call(j,null!=b?b.variant:b,{name:"if",hash:{},fn:a.program(4,e,0,f,g),inverse:a.noop,data:e}))?h:"")+(null!=(h=c.unless.call(j,null!=b?b.proteotypicity:b,{name:"unless",hash:{},fn:a.program(10,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"\n"+(null!=(h=a.invokePartial(d["quality-label"],b,{name:"quality-label",hash:{qualityQualifier:null!=b?b.quality:b},data:e,indent:"                ",helpers:c,partials:d,decorators:a.decorators}))?h:"")+"            </td>\n"+(null!=(h=c.if.call(j,null!=b?b.source:b,{name:"if",hash:{},fn:a.program(12,e,0,f,g),inverse:a.program(15,e,0,f,g),data:e}))?h:"")+'        </tr>\n        <tr class="'+(null!=(h=(c.className||b&&b.className||k).call(j,null!=b?b.category:b,{name:"className",hash:{},data:e}))?h:"")+' detailed-info">\n            <td colspan="6" class="table-row-evidence">\n'+(null!=(h=c.each.call(j,null!=b?b.source:b,{name:"each",hash:{},fn:a.program(17,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"            </td>\n        </tr>\n        "},4:function(a,b,c,d,e){var f;return null!=(f=c.each.call(null!=b?b:{},null!=b?b.source:b,{name:"each",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e}))?f:""},5:function(a,b,c,d,e){var f;return null!=(f=c.if.call(null!=b?b:{},null!=b?b.externalDb:b,{name:"if",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:""},6:function(a,b,c,d,e){var f;return null!=(f=c.if.call(null!=b?b:{},null!=b?b.crossRef:b,{name:"if",hash:{},fn:a.program(7,e,0),inverse:a.noop,data:e}))?f:""},7:function(a,b,c,d,e){var f,g,h;return g=null!=(g=c.crossRef||(null!=b?b.crossRef:b))?g:c.helperMissing,h={name:"crossRef",hash:{},fn:a.program(8,e,0),inverse:a.noop,data:e},f="function"==typeof g?g.call(null!=b?b:{},h):g,c.crossRef||(f=c.blockHelperMissing.call(b,f,h)),null!=f?f:""},8:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing;return" ; "+a.escapeExpression((g=null!=(g=c.dbName||(null!=b?b.dbName:b))?g:i,"function"==typeof g?g.call(h,{name:"dbName",hash:{},data:e}):g))+" : "+(null!=(f=(c.linkTo||b&&b.linkTo||i).call(h,null!=b?b.name:b,null!=b?b.url:b,{name:"linkTo",hash:{},data:e}))?f:"")+" "},10:function(a,b,c,d,e){return' <span class="nonProteotypic">found in other entries</span>'},12:function(a,b,c,d,e){var f,g,h=null!=b?b:{};return'            <td class="text-align-right"><span class="evidenceNumber">'+a.escapeExpression((g=null!=(g=c.evidenceLength||(null!=b?b.evidenceLength:b))?g:c.helperMissing,"function"==typeof g?g.call(h,{name:"evidenceLength",hash:{},data:e}):g))+'</span></td>\n            <td>\n                <div class="reference-label-container">\n'+(null!=(f=c.each.call(h,null!=b?b.evidenceSources:b,{name:"each",hash:{},fn:a.program(13,e,0),inverse:a.noop,data:e}))?f:"")+"            </div>\n            </td>\n"},13:function(a,b,c,d,e){return'                        <div class="reference-label">'+a.escapeExpression(a.lambda(b,b))+"</div>\n"},15:function(a,b,c,d,e){return"            <td></td>\n            <td></td>\n"},17:function(a,b,c,d,e,f,g){var h,i=null!=b?b:{};return(null!=(h=a.invokePartial(d.evidence,b,{name:"evidence",hash:{url:null!=(h=null!=b?b.crossRef:b)?h.url:h,accession:null!=(h=null!=b?b.crossRef:b)?h.name:h,source:null!=b?b.assignedBy:b,codeName:null!=b?b.evidenceCodeName:b},data:e,indent:"                    ",helpers:c,partials:d,decorators:a.decorators}))?h:"")+'                    <div class="'+(null!=(h=c.if.call(i,null!=b?b.publicationMD5:b,{name:"if",hash:{},fn:a.program(18,e,0,f,g),inverse:a.noop,data:e}))?h:"")+'">\n'+(null!=(h=a.invokePartial(d.publication,b,{name:"publication",hash:{parentId:(c.concat||b&&b.concat||c.helperMissing).call(i,null!=b?b.id:b,null!=g[1]?g[1].id:g[1],{name:"concat",hash:{},data:e})},data:e,indent:"                        ",helpers:c,partials:d,decorators:a.decorators}))?h:"")+"                    </div>\n"},18:function(a,b,c,d,e){return"evidence-publication"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e,f,g){var h;return'\n<div id="featTableScroller" class="section-scroller">\n    <table id="featTable" class="table table-striped table-fixed">\n        <thead>\n        <tr>\n            <th class="featName" class="col-md-2">Name</th>\n            <th class="col-md-2 text-align-right">Position</th>\n            <th class="col-md-1 text-align-right">Length</th>\n            <th class="col-md-5">Description</th>\n            <th colspan="2" class="col-md-2 text-align-left">Evidence</th>\n        </tr>\n        </thead>\n'+(null!=(h=c.each.call(null!=b?b:{},null!=b?b.groupedFeatures:b,{name:"each",hash:{},fn:a.program(1,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"\n    </table>\n</div>\n"},usePartial:!0,useData:!0,useDepths:!0}),this.HBtemplates["templates/filter.tmpl"]=Handlebars.template({1:function(a,b,c,d,e){var f,g=a.escapeExpression;return'                <label class="filter-box">\n                    <input type="checkbox" id='+g((f=null!=(f=c.key||e&&e.key)?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"key",hash:{},data:e}):f))+' value="option1" checked>'+g(a.lambda(b,b))+"\n                </label>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'\n    \n    <div>\n        <div class="filter-heading">\n        <span class="fa fa-filter"></span>\n        <h5>FILTER</h5>\n        </div><div class="filter-body">\n            <div id="filtering" class="all-filters">\n                <button class="btn btn-default btn-sm" id="allFilters">All/None</button>\n'+(null!=(f=c.each.call(null!=b?b:{},null!=b?b.filters:b,{name:"each",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"\n            </div>\n        </div>\n    </div>\n    \n"},useData:!0}),this.HBtemplates["templates/isoformChoice.tmpl"]=Handlebars.template({1:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j="function",k=a.escapeExpression;return'        <li role="presentation"><a class="isoformNames" href="#'+k((g=null!=(g=c.uniqueName||(null!=b?b.uniqueName:b))?g:i,typeof g===j?g.call(h,{name:"uniqueName",hash:{},data:e}):g))+'" role="tab" data-toggle="tab" title="'+k(a.lambda(null!=(f=null!=b?b.mainEntityName:b)?f.value:f,b))+'">'+k((g=null!=(g=c.uniqueName||(null!=b?b.uniqueName:b))?g:i,typeof g===j?g.call(h,{name:"uniqueName",hash:{},data:e}):g))+"</a></li>\n"},3:function(a,b,c,d,e){var f;return'        <li role="presentation" class="dropdown" style="z-index:20">\n            <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false"><span\n                    id="extendIsoformChoice">More</span><span style="margin-left:5px;" class="caret"></span></a>\n            <ul id="moreIsoforms" class="dropdown-menu" role="menu">\n                <li role="presentation"><p href="#" role="tab" data-toggle="tab"\n                                           style="pointer-events:none;cursor:default;padding: 3px 20px;">Others\n                    Isoforms</p></li>\n'+(null!=(f=c.blockHelperMissing.call(b,a.lambda(null!=(f=null!=b?b.isoforms:b)?f.more:f,b),{name:"isoforms.more",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+"            </ul>\n"},4:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j="function",k=a.escapeExpression;return'                <li role="presentation"><a class="isoformNames" href="#'+k((g=null!=(g=c.uniqueName||(null!=b?b.uniqueName:b))?g:i,typeof g===j?g.call(h,{name:"uniqueName",hash:{},data:e}):g))+'" role="tab" data-toggle="tab" title="'+k(a.lambda(null!=(f=null!=b?b.mainEntityName:b)?f.value:f,b))+'">'+k((g=null!=(g=c.uniqueName||(null!=b?b.uniqueName:b))?g:i,typeof g===j?g.call(h,{name:"uniqueName",hash:{},data:e}):g))+"</a>\n                </li>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<div role="tabpanel">\n    <div class="navbar-brand " style="padding:10px 15px;color:#C50063;height:auto;font-size:20px;">Isoforms</div>\n    <ul class="nav nav-tabs" role="tablist" style="border:none">\n'+(null!=(f=c.blockHelperMissing.call(b,a.lambda(null!=(f=null!=b?b.isoforms:b)?f.visible:f,b),{name:"isoforms.visible",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+(null!=(f=c.if.call(null!=b?b:{},null!=(f=null!=b?b.isoforms:b)?f.more:f,{name:"if",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'        <li><a id="isoformMap" href="javascript:;" style="color:#007800;font-size:16px;padding-top: 8px;">See isoforms</a></li>\n    </ul>\n</div>'},useData:!0});
//# sourceMappingURL=triple-viewer.bundle.js.map