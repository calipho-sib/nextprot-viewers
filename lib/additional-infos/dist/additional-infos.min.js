this.HBtemplates=this.HBtemplates||{},this.HBtemplates["templates/extra.tmpl"]=Handlebars.template({1:function(a,b,c,d,e){var f;return null!=(f=c.each.call(null!=b?b:{},b,{name:"each",hash:{},fn:a.program(2,e,0),inverse:a.noop,data:e}))?f:""},2:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j="function",k=a.escapeExpression;return'\n    <div class="row">\n        <div class="col-lg-4 col-md-2 col-sm-2 col-xs-3">\n            <h4 class="hidden-sm hidden-xs" style="font-weight:200;text-align:right;margin-top:2px;"> '+k((g=null!=(g=c.key||e&&e.key)?g:i,typeof g===j?g.call(h,{name:"key",hash:{},data:e}):g))+' </h4>\n            <h4 class="hidden-lg hidden-md" style="font-weight:200;text-align:left;margin-top:2px;"> '+k((g=null!=(g=c.key||e&&e.key)?g:i,typeof g===j?g.call(h,{name:"key",hash:{},data:e}):g))+' </h4>\n        </div>\n        <div class="col-lg-8 col-md-10 col-sm-10 col-xs-9">\n'+(null!=(f=c.each.call(h,b,{name:"each",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+"        </div>\n    </div>\n"},3:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j="function",k=a.escapeExpression;return'            <div class="row" style="margin-bottom:5px;margin-left:0px;">\n                <div class="col-md-10 col-sm-10 col-xs-9" style="padding:0px;">\n                    <p style="font-size:1em;overflow:hidden;display:block;text-overflow:ellipsis;">'+k((g=null!=(g=c.description||(null!=b?b.description:b))?g:i,typeof g===j?g.call(h,{name:"description",hash:{},data:e}):g))+'</p>\n                    <div class="collapse hidden-xs '+k((g=null!=(g=c.id||(null!=b?b.id:b))?g:i,typeof g===j?g.call(h,{name:"id",hash:{},data:e}):g))+'">\n'+(null!=(f=c.each.call(h,null!=b?b.evidences:b,{name:"each",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+'                    </div>\n                </div>\n                <div class="col-md-2 col-sm-2 col-xs-3">\n                    <a class="btn" style="padding:5px 10px;background-color:#dedede;" type="button" data-toggle="collapse" data-target=".'+k((g=null!=(g=c.id||(null!=b?b.id:b))?g:i,typeof g===j?g.call(h,{name:"id",hash:{},data:e}):g))+'" aria-expanded="false" aria-controls="'+k((g=null!=(g=c.id||(null!=b?b.id:b))?g:i,typeof g===j?g.call(h,{name:"id",hash:{},data:e}):g))+'">\n                        <p style="color:#999;padding:0px;margin:0px;font-size:1.5em;font-weight:700;line-height:1em">'+k(a.lambda(null!=(f=null!=b?b.evidences:b)?f.length:f,b))+'</p>\n                        <p style="color:#999;padding:0px 5px 0px;margin:0px;font-size:0.9em;line-height:1em;">ref</p>\n                    </a>\n                </div>\n            </div>\n            <div class="collapse hidden-lg hidden-md hidden-sm '+k((g=null!=(g=c.id||(null!=b?b.id:b))?g:i,typeof g===j?g.call(h,{name:"id",hash:{},data:e}):g))+'">\n'+(null!=(f=c.each.call(h,null!=b?b.evidences:b,{name:"each",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+"            </div>\n        \n"},4:function(a,b,c,d,e){var f,g=null!=b?b:{},h=c.helperMissing,i=a.escapeExpression,j="function";return'                        <div class="">\n                            <div class="evidenceArrow" style=";transform:rotate(180deg);display:inline-block;font-weight: 900;">&#10549;</div>  Evidence '+i((c.math||b&&b.math||h).call(g,e&&e.index,1,{name:"math",hash:{},data:e}))+'\n                            <span class="evidenceCodeName" style="background-color:#7cba0f;color:white;padding:2px 6px;border-radius:2px 0px 0px 2px;margin-left:5px">'+i((f=null!=(f=c.codeName||(null!=b?b.codeName:b))?f:h,typeof f===j?f.call(g,{name:"codeName",hash:{},data:e}):f))+'</span>\n                            <span class="evidenceSource" style="background-color:#dedede;color:#999;padding: 2px 6px;border-radius:0px 2px 2px 0px;">'+i((f=null!=(f=c.db||(null!=b?b.db:b))?f:h,typeof f===j?f.call(g,{name:"db",hash:{},data:e}):f))+'</span>\n                        </div>\n                        <div style="padding-left:10px;border-left:1px solid darkgray;margin:10px 0px;">\n                            <a href='+i((f=null!=(f=c.url||(null!=b?b.url:b))?f:h,typeof f===j?f.call(g,{name:"url",hash:{},data:e}):f))+">"+i((f=null!=(f=c.accession||(null!=b?b.accession:b))?f:h,typeof f===j?f.call(g,{name:"accession",hash:{},data:e}):f))+"</a>\n                        </div>\n"},6:function(a,b,c,d,e){var f,g=null!=b?b:{},h=c.helperMissing,i=a.escapeExpression,j="function";return'                <div class="" style="font-size:12px">\n                    <div class="evidenceArrow" style=";transform:rotate(180deg);display:inline-block;font-weight: 900;">&#10549;</div>  Evidence '+i((c.math||b&&b.math||h).call(g,e&&e.index,1,{name:"math",hash:{},data:e}))+'\n                    <div class="evidenceCodeName" style="display:inline-block;background-color:#7cba0f;color:white;padding:2px 6px;border-radius:2px;margin-bottom:3px;">'+i((f=null!=(f=c.codeName||(null!=b?b.codeName:b))?f:h,typeof f===j?f.call(g,{name:"codeName",hash:{},data:e}):f))+'</div>\n                    <span class="evidenceSource" style="background-color:#dedede;color:#999;padding: 2px 6px;border-radius:2px;">'+i((f=null!=(f=c.db||(null!=b?b.db:b))?f:h,typeof f===j?f.call(g,{name:"db",hash:{},data:e}):f))+'</span>\n                </div>\n                <div style="padding-left:10px;border-left:1px solid darkgray;margin:10px 0px;">\n                    <a href='+i((f=null!=(f=c.url||(null!=b?b.url:b))?f:h,typeof f===j?f.call(g,{name:"url",hash:{},data:e}):f))+">"+i((f=null!=(f=c.accession||(null!=b?b.accession:b))?f:h,typeof f===j?f.call(g,{name:"accession",hash:{},data:e}):f))+"</a>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h,i=null!=b?b:{},j=c.helperMissing,k="function",l='<div id="xrefs-header" style="border-bottom: 1px solid #E7EAEC;margin-bottom: 15px;padding-bottom: 5px;">\n    <div style="display:inline-block;">\n            <span class="badge" style="border-radius:70%;border: 2px solid black;color:#C50063;background-color:white;padding:8px 8px;margin-right:10px;vertical-align:middle;min-width:32px;">'+a.escapeExpression((g=null!=(g=c.count||(null!=b?b.count:b))?g:j,typeof g===k?g.call(i,{name:"count",hash:{},data:e}):g))+'</span>\n    </div>\n    <h4 id="keywords-title" style="display:inline-block;vertical-align:middle;">Sequence</h4>\n</div>\n<div style="margin-top:20px;">\n';return g=null!=(g=c.data||(null!=b?b.data:b))?g:j,h={name:"data",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e},f=typeof g===k?g.call(i,h):g,c.data||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(l+=f),l+"</div>\n"},useData:!0}),this.HBtemplates["templates/keywords.tmpl"]=Handlebars.template({1:function(a,b,c,d,e){var f;return null!=(f=c.each.call(null!=b?b:{},b,{name:"each",hash:{},fn:a.program(2,e,0),inverse:a.noop,data:e}))?f:""},2:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j="function",k=a.escapeExpression;return'\n<div class="row">\n    <div class="col-md-4 col-sm-4 col-xs-12">\n        <h4 class="hidden-xs" style="font-weight:200;text-align:right;margin-top:2px;"> '+k((g=null!=(g=c.key||e&&e.key)?g:i,typeof g===j?g.call(h,{name:"key",hash:{},data:e}):g))+' </h4>\n        <h4 class="hidden-lg hidden-md hidden-sm" style="font-weight:200;text-align:left;margin-top:2px; margin-left:15px;"> '+k((g=null!=(g=c.key||e&&e.key)?g:i,typeof g===j?g.call(h,{name:"key",hash:{},data:e}):g))+' </h4>\n    </div>\n    <div class="col-md-8 col-sm-8 col-xs-12">\n'+(null!=(f=c.each.call(h,b,{name:"each",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'    </div>\n</div>\n<hr style="margin:0px 50px 5px"> '},3:function(a,b,c,d,e){var f,g=null!=b?b:{},h=c.helperMissing,i="function",j=a.escapeExpression;return'        <div class="row" style="margin-bottom:5px;">\n            <div class="col-md-5 col-sm-5 col-xs-5">\n                <p style="font-size:1em;padding:2px 20px 0px; margin-bottom:0px;">'+j((f=null!=(f=c.cvTermName||(null!=b?b.cvTermName:b))?f:h,typeof f===i?f.call(g,{name:"cvTermName",hash:{},data:e}):f))+'</p>\n            </div>\n            <div class="col-md-1 col-sm-2 col-xs-1">\n                <button class="btn btn-sm btn-info" type="button" data-toggle="collapse" data-target="#'+j((f=null!=(f=c.cvTermAccessionCode||(null!=b?b.cvTermAccessionCode:b))?f:h,typeof f===i?f.call(g,{name:"cvTermAccessionCode",hash:{},data:e}):f))+'" aria-expanded="false" aria-controls="'+j((f=null!=(f=c.cvTermAccessionCode||(null!=b?b.cvTermAccessionCode:b))?f:h,typeof f===i?f.call(g,{name:"cvTermAccessionCode",hash:{},data:e}):f))+'">Definition</button>\n            </div>\n            <div class="col-md-3 col-sm-2 col-sm-offset-1 col-xs-1 col-xs-offset-1">\n                <a class="btn btn-sm selectable" href="/db/term/'+j((f=null!=(f=c.cvTermAccessionCode||(null!=b?b.cvTermAccessionCode:b))?f:h,typeof f===i?f.call(g,{name:"cvTermAccessionCode",hash:{},data:e}):f))+'" style="color:#C50063;border:1px solid #C50063;margin-left:30px;">'+j((f=null!=(f=c.cvTermAccessionCode||(null!=b?b.cvTermAccessionCode:b))?f:h,typeof f===i?f.call(g,{name:"cvTermAccessionCode",hash:{},data:e}):f))+'</a>\n            </div>\n        </div>\n        <div class="collapse" id="'+j((f=null!=(f=c.cvTermAccessionCode||(null!=b?b.cvTermAccessionCode:b))?f:h,typeof f===i?f.call(g,{name:"cvTermAccessionCode",hash:{},data:e}):f))+'">\n            <div class="well" style="background-color:rgba(91, 192, 222, 0.2);margin-right:50px;margin-left:10px;">\n                '+j((f=null!=(f=c.cvTermDescription||(null!=b?b.cvTermDescription:b))?f:h,typeof f===i?f.call(g,{name:"cvTermDescription",hash:{},data:e}):f))+"\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h,i=null!=b?b:{},j=c.helperMissing,k="function",l='\n    <div id="keywords-header" style="border-bottom: 1px solid #E7EAEC;margin-bottom: 15px;padding-bottom: 5px;">\n    <div style="display:inline-block;">\n            <span class="badge" style="border-radius:70%;border: 2px solid black;color:#C50063;background-color:white;padding:8px 8px;margin-right:10px;vertical-align:middle;min-width:32px;">'+a.escapeExpression((g=null!=(g=c.count||(null!=b?b.count:b))?g:j,typeof g===k?g.call(i,{name:"count",hash:{},data:e}):g))+'</span>\n    </div>\n    <h4 id="keywords-title" style="display:inline-block;vertical-align:middle;">Keywords</h4></div>\n<div style="margin-top:20px;">\n';return g=null!=(g=c.data||(null!=b?b.data:b))?g:j,h={name:"data",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e},f=typeof g===k?g.call(i,h):g,c.data||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(l+=f),l+"\n</div>"},useData:!0}),this.HBtemplates["templates/xrefs.tmpl"]=Handlebars.template({1:function(a,b,c,d,e){var f;return null!=(f=c.each.call(null!=b?b:{},b,{name:"each",hash:{},fn:a.program(2,e,0),inverse:a.noop,data:e}))?f:""},2:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j="function",k=a.escapeExpression;return'\n    <div class="row">\n        <div class="col-lg-4 col-md-2 col-sm-12 col-xs-12">\n            <h4 class="hidden-sm hidden-xs" style="font-weight:200;text-align:right;margin-top:2px;"> '+k((g=null!=(g=c.key||e&&e.key)?g:i,typeof g===j?g.call(h,{name:"key",hash:{},data:e}):g))+' </h4>\n            <h4 class="hidden-lg hidden-md" style="font-weight:200;text-align:left;margin-top:2px; margin-left:15px;"> '+k((g=null!=(g=c.key||e&&e.key)?g:i,typeof g===j?g.call(h,{name:"key",hash:{},data:e}):g))+' </h4>\n        </div>\n        <div class="col-lg-8 col-md-10 col-sm-12 col-xs-12">\n'+(null!=(f=c.each.call(h,b,{name:"each",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'        </div>\n        </div>\n<hr style="margin:0px 50px 5px">'},3:function(a,b,c,d,e){var f,g,h,i=null!=b?b:{},j=c.helperMissing,k="function",l='            <div class="row" style="margin-bottom:5px;">\n                <div class="col-md-3 col-sm-3 col-xs-4" style="padding:0px;">\n                    <p style="font-size:1em;padding:2px 12px 0px 20px; margin-bottom:0px;text-align:right;overflow: hidden;display: block;text-overflow:ellipsis;">'+a.escapeExpression((g=null!=(g=c.name||(null!=b?b.name:b))?g:j,typeof g===k?g.call(i,{name:"name",hash:{},data:e}):g))+'</p>\n                </div>\n                <div class="col-md-9 col-sm-9 col-xs-8">\n';return g=null!=(g=c.xrefs||(null!=b?b.xrefs:b))?g:j,h={name:"xrefs",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e},f=typeof g===k?g.call(i,h):g,c.xrefs||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(l+=f),l+"                </div>\n            </div>\n"},4:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j="function",k=a.escapeExpression;return'                        <div class="btn-group hidden-xs" role="group">\n                            '+(null!=(f=c.if.call(h,null!=b?b.prefix:b,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e}))?f:"")+'\n                            <a class="btn btn-xs selectable" href="'+k((g=null!=(g=c.url||(null!=b?b.url:b))?g:i,typeof g===j?g.call(h,{name:"url",hash:{},data:e}):g))+'"  target="_blank" style="color:#C50063;border:1px solid #C50063;text-align:left;">'+k((g=null!=(g=c.accession||(null!=b?b.accession:b))?g:i,typeof g===j?g.call(h,{name:"accession",hash:{},data:e}):g))+"</a>\n                                "+(null!=(f=c.if.call(h,null!=b?b.suffix:b,{name:"if",hash:{},fn:a.program(7,e,0),inverse:a.noop,data:e}))?f:"")+'\n                        </div>\n                        <div class="row hidden-lg hidden-md hidden-sm">\n                            <div class="btn-group col-xs-12" role="group" style="padding:0px;">\n                                '+(null!=(f=c.if.call(h,null!=b?b.prefix:b,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e}))?f:"")+'\n                                <a class="btn btn-xs selectable" href="'+k((g=null!=(g=c.url||(null!=b?b.url:b))?g:i,typeof g===j?g.call(h,{name:"url",hash:{},data:e}):g))+'"  target="_blank" style="color:#C50063;border:1px solid #C50063;text-align:left;">'+k((g=null!=(g=c.accession||(null!=b?b.accession:b))?g:i,typeof g===j?g.call(h,{name:"accession",hash:{},data:e}):g))+"</a>\n                                "+(null!=(f=c.if.call(h,null!=b?b.suffix:b,{name:"if",hash:{},fn:a.program(7,e,0),inverse:a.noop,data:e}))?f:"")+"\n                            </div>\n                        </div>\n"},5:function(a,b,c,d,e){var f;return'<label class="btn btn-xs" style="margin:0px;color:white;border:1px solid #C50063;background-color:rgba(197, 0, 99, 0.75)">'+a.escapeExpression((f=null!=(f=c.prefix||(null!=b?b.prefix:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"prefix",hash:{},data:e}):f))+" </label>"},7:function(a,b,c,d,e){var f;return'<label style="margin:0px;font-weight:300;margin-left:5px;padding:1px 5px;border-radius:0px 3px 3px 0px;background-color:#f4f4f4; color:#999;border:1px solid #999;font-size:12px;line-height:18px;"> '+a.escapeExpression((f=null!=(f=c.suffix||(null!=b?b.suffix:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"suffix",hash:{},data:e}):f))+" </label>"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h,i=null!=b?b:{},j=c.helperMissing,k="function",l='\n<div id="xrefs-header" style="border-bottom: 1px solid #E7EAEC;margin-bottom: 15px;padding-bottom: 5px;">\n<div style="display:inline-block;">\n        <span class="badge" style="border-radius:70%;border: 2px solid black;color:#C50063;background-color:white;padding:8px 8px;margin-right:10px;vertical-align:middle;">'+a.escapeExpression((g=null!=(g=c.count||(null!=b?b.count:b))?g:j,typeof g===k?g.call(i,{name:"count",hash:{},data:e}):g))+'</span>\n</div>\n<h4 id="keywords-title" style="display:inline-block;vertical-align:middle;">Further external links</h4></div>\n<div style="margin-top:20px;">\n\n';return g=null!=(g=c.data||(null!=b?b.data:b))?g:j,h={name:"data",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e},f=typeof g===k?g.call(i,h):g,c.data||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(l+=f),l+"\n</div>"},useData:!0});var AdditionalInfos=function(){function a(a,b){var c={},d=0,e=[];b.forEach(function(b){a.type.indexOf(b.cvTermType)>=0&&a.exceptions.indexOf(b.cvTermAccessionCode)<0&&(c[b.cvTermType]?c[b.cvTermType].push(b):c[b.cvTermType]=[b])});var e=Object.keys(c).map(function(a){var b={};return b[a]=c[a],b});return e.sort(function(a,b){var c=Object.keys(a)[0].toUpperCase(),d=Object.keys(b)[0].toUpperCase();return c<d?-1:c>d?1:0}),e.forEach(function(a){a[Object.keys(a)[0]].forEach(function(a){d+=1})}),{data:e,count:d}}function b(a,b){var c=Object.keys(a)[0].toUpperCase(),d=Object.keys(b)[0].toUpperCase();return c<d?-1:c>d?1:0}function c(a){var b=[];for(elem in a)if("Ensembl"===a[elem].databaseName){if(a[elem].accession.startsWith("ENST")&&a[elem].properties){var c={name:a[elem].databaseName,xrefs:[{accession:a[elem].accession,url:a[elem].resolvedUrl,prefix:"Transcript",suffix:""}]};a[elem].properties.forEach(function(b){if("nxmapped protein sequence ID"===b.name){var d=$.grep(a,function(a){return a.accession==b.value})[0];c.xrefs.push({accession:d.accession,url:d.resolvedUrl,prefix:"Protein",suffix:""})}}),a[elem].properties.forEach(function(b){if("nxmapped gene ID"===b.name){var d=$.grep(a,function(a){return a.accession==b.value})[0];c.xrefs.push({accession:d.accession,url:d.resolvedUrl,prefix:"Gene",suffix:""})}}),b.push(c)}}else if("EMBL"===a[elem].databaseName){if(a[elem].properties.length>0){var d=$.grep(a[elem].properties,function(a){return"molecule type"===a.name})[0],e=$.grep(a[elem].properties,function(a){return"status"===a.name})[0],f=e?h[e.value]:"",g={name:a[elem].databaseName,xrefs:[]};if("mRNA"===d.value){g.xrefs.push({accession:a[elem].accession,url:a[elem].resolvedUrl,prefix:"mRNA",suffix:""});var i=$.grep(a[elem].properties,function(a){return"protein sequence ID"===a.name})[0].value,j=$.grep(a,function(a){return a.accession==i})[0];g.xrefs.push({accession:j.accession,url:j.resolvedUrl,prefix:"Translation",suffix:f})}else if("protein"===d.value){var k=$.grep(a[elem].properties,function(a){return"genomic sequence ID"===a.name});k.forEach(function(b){var c=$.grep(a,function(a){return a.accession==b.value})[0];g.xrefs.push({accession:c.accession,url:c.resolvedUrl,prefix:"Genomic DNA",suffix:""})}),g.xrefs.push({accession:a[elem].accession,url:a[elem].resolvedUrl,prefix:"Translation",suffix:f})}else if("Genomic_DNA"===d.value&&e.value){var k=$.grep(a[elem].properties,function(a){return"genomic sequence ID"===a.name});g.xrefs.push({accession:a[elem].accession,url:a[elem].resolvedUrl,prefix:"Genomic DNA",suffix:f})}b.push(g)}}else if("RefSeq"===a[elem].databaseName){if(a[elem].properties.length>0){var l=$.grep(a[elem].properties,function(a){return"nucleotide sequence ID"===a.name})[0].value,m={name:a[elem].databaseName,xrefs:[{accession:a[elem].accession,url:a[elem].resolvedUrl,prefix:"Protein",suffix:""}]},n=$.grep(a,function(a){return a.accession==l})[0];m.xrefs.push({accession:n.accession,url:n.resolvedUrl,prefix:"Nucleotide sequence",suffix:""}),b.push(m)}}else{var f="";if(a[elem].properties.length>0){var e=$.grep(a[elem].properties,function(a){return"entry name"===a.name||"isoform ID"===a.name||"gene designation"===a.name||"taxonomic scope"===a.name})[0];f=e?e.value:""}b.push({name:a[elem].databaseName,xrefs:[{accession:a[elem].accession,url:a[elem].resolvedUrl,prefix:"",suffix:f}]})}return b}function d(a,d){var e={},f=0,g=[];d.forEach(function(b){a.indexOf(b.databaseName)>=0&&(e[b.databaseCategory]?e[b.databaseCategory].push(b):e[b.databaseCategory]=[b])});var g=Object.keys(e).map(function(a){var b={};return b[a]=e[a],b});return g.sort(b),g=g.map(function(a){return a[Object.keys(a)[0]]=c(a[Object.keys(a)[0]]),a}),g.forEach(function(a){var b=a[Object.keys(a)[0]];b.forEach(function(a){f+=1}),b.sort(function(a,b){var c=a.name.toUpperCase(),d=b.name.toUpperCase(),e=a.xrefs[0].prefix.toUpperCase(),f=b.xrefs[0].prefix.toUpperCase(),g=a.xrefs[0].accession.toUpperCase(),h=b.xrefs[0].accession.toUpperCase();return c<d?-1:c>d?1:e<f?-1:e>f?1:g<h?-1:g>h?1:0})}),{data:g,count:f}}function e(a,b){function c(a){return b.hasOwnProperty(a)?b[a].resolvedUrl:""}return a.map(function(a){return{codeName:a.evidenceCodeName,accession:a.resourceAccession,db:a.resourceDb,url:c(a.resourceId)}})}function f(a){var b=[],c=[],d=0;a.forEach(function(a){$.merge(b,a.xrefs),$.merge(c,a.annot)});var f={};return c.forEach(function(a){f.hasOwnProperty(a.category)||(f[a.category]=[]),f[a.category].push({id:a.annotationId,description:a.description,category:a.category.toUpperCase(),evidences:a.evidences?e(a.evidences,b):[]})}),Object.keys(f).forEach(function(a){d+=f[a].length}),{data:f,count:d}}var g=function(){};g.prototype.compileKeyword=function(b,c,d,e){c.getAnnotationsByCategory(b,"keyword").then(function(b){var c=a(d,b.annot),f=($("#entry-template").html(),HBtemplates["templates/keywords.tmpl"]),g=f(c);$(e).html(g)}).catch(function(a){console.log("Argh, broken: "+a.message),console.log("Error at line : "+a.stack)})};var h={ALT_TERM:"Different termination",ALT_INIT:"Different initiation",NOT_ANNOTATED_CDS:"No translation available",ALT_SEQ:"Sequence problems",ALT_FRAME:"Frameshift"};return g.prototype.compileXref=function(a,b,c,e){b.getAnnotationsByCategory(a,"xref").then(function(a){var b=d(c,Object.keys(a.xrefs).map(function(b){return a.xrefs[b]})),f=($("#entry-template").html(),HBtemplates["templates/xrefs.tmpl"]),g=f(b);$(e).html(g)}).catch(function(a){console.log("Argh, broken: "+a.message),console.log("Error at line : "+a.stack)})},g.prototype.compileExtra=function(a,b,c,d){var e=[];c.forEach(function(c){e.push(b.getAnnotationsByCategory(a,c))}),Promise.all(e).then(function(a){var b=f(a);Handlebars.registerHelper("math",function(a,b,c){return a=parseFloat(a),b=parseFloat(b),a+b});var c=HBtemplates["templates/extra.tmpl"],e=c(b);$(d).html(e)}).catch(function(a){console.log("Argh, broken: "+a.message),console.log("Error at line : "+a.stack)})},g}();
//# sourceMappingURL=additional-infos.min.js.map